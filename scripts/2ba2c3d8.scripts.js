!function(){this.App=angular.module("codingTheHumanitiesApp",["ngResource"]).config(["$routeProvider",function(a){return a.when("/",{templateUrl:"views/_visualisation.html",controller:"VisualisationCtrl"}).when("/vision",{templateUrl:"views/_vision.html",controller:"VisionCtrl"}).when("/people",{templateUrl:"views/_people.html",controller:"PeopleCtrl"}).when("/events",{templateUrl:"views/_events.html",controller:"EventsCtrl"}).when("/code",{templateUrl:"views/_code.html",controller:"CodeCtrl"}).when("/test",{templateUrl:"views/_code.html",controller:"TestCtrl"}).otherwise({redirectTo:"/"})}])}.call(this),function(){this.MainCtrl=["$scope","conceptFactory",function(a){return a.title="Coding the Humanities"}]}.call(this),function(){this.VisionCtrl=["$scope","conceptFactory",function(a,b){var c,d;return c=b,d=function(){return a.visionConcepts=c.query({conceptName:"concepts"},function(){return $.each(a.visionConcepts,function(a,b){return b.rank=function(){return b.ranked?"ranked":void 0}})})},d()}]}.call(this),function(){this.VisualisationCtrl=["$scope","conceptFactory","$http",function(a,b){var c,d;return c=b,d=function(){return a.pastConcepts=c.query({conceptName:"past_concepts"},function(){return $.each(a.pastConcepts,function(a,b){return b.ranked&&(b.ranked="ranked"),b.live=""})}),a.futureConcepts=c.query({conceptName:"future_concepts"},function(){return $.each(a.futureConcepts,function(a,b){return b.rank=function(){return b.ranked?"ranked":void 0}})}),a.pusher=new Pusher("26da32a9b80140bcf9a7"),a.channel=a.pusher.subscribe("test_channel")},d(),a.channel.bind("my_event",function(b){return a.$apply(function(){return console.log(a.concepts),$.each(a.pastConcepts,function(a,c){return c.live=!1,c.name===b.message?c.live="live":void 0}),$.each(a.futureConcepts,function(a,c){return c.live=!1,c.name===b.message?c.live="live":void 0})})})}]}.call(this),function(){this.PeopleCtrl=["$scope","conceptFactory",function(a,b){var c,d;return c=b,d=function(){return a.peopleConcepts=c.query({conceptName:"concepts"},function(){return $.each(a.peopleConcepts,function(a,b){return b.rank=function(){return b.ranked?"ranked":void 0}})})},d()}]}.call(this),function(){this.EventsCtrl=["$scope","conceptFactory",function(a,b){var c,d;return c=b,d=function(){return a.eventsConcepts=c.query({conceptName:"concepts"},function(){return $.each(a.eventsConcepts,function(a,b){return b.rank=function(){return b.ranked?"ranked":void 0}})})},d()}]}.call(this),function(){this.CodeCtrl=["$scope","conceptFactory",function(a,b){var c,d;return c=b,d=function(){return a.codeConcepts=c.query({conceptName:"concepts"},function(){return $.each(a.codeConcepts,function(a,b){return b.rank=function(){return b.ranked?"ranked":void 0}})})},d()}]}.call(this),function(){this.TestCtrl=["$scope","conceptFactory","$http",function(a,b,c){var d,e;return d=b,e=function(){return a.codeConcepts=[{name:"loading..."}],c.get("http://twitter-humanities.herokuapp.com/api/concepts").success(function(b){return a.codeConcepts=b})},e()}]}.call(this),function(){this.App.factory("conceptFactory",["$resource",function(a){return a("http://twitter-humanities.herokuapp.com/api/:conceptName",{conceptName:"@name"})}])}.call(this),function(){this.App.directive("concepts",function(){return{restrict:"E",replace:!0,scope:{list:"="},template:"<div class='span6'><div ng-repeat='concept in list' class='span2 {{concept.ranked}} {{concept.live}}'>{{ concept.name }}</div></div>"}})}.call(this);